{% extends "index.html" %}
{% block base %}

<div class="container">
   <div class="row">

		<div class="col-lg-4">
			<div class="card">
                <div class="card-body p-2 ">

					<table class="table table-bordered">
						  <thead class="text-center align-middle">
								<tr>
								  <th scope="col">Fee</th>
								  <th scope="col">Amount</th>
								  <th scope="col">Transport</th>
								  <th scope="col">Total</th>
								  <th scope="col">Status</th>
								</tr>
						  </thead>
						  <tbody class="text-center align-middle">
								<tr>
								  <th scope="row">Annual</th>
								  <td>{% if f.annualFee != 0 %} {{f.annualFee}} {% endif %}</td>
									<td>{% if b.transport %} <a class="btn btn-success btn-sm"  href="/transport/?admissionNumber={{s.admissionNumber}}&transport={{b.transport}}&id={{b.id}}" type="button" >Yes</a>{% else %} <a class="btn btn-danger btn-sm"  href="/transport/?admissionNumber={{s.admissionNumber}}&transport={{b.transport}}&id={{b.id}}" type="button">No</a>{% endif %}</td>
								  <td> {% if f.annualFee != 0 %} {{f.annualFee}} {% endif %}</td>
								  <td>{% if f.annualFee != 0 %} <input class="btn btn-success btn-sm" type="button" value="Paid">{% else %} <input class="btn btn-danger btn-sm" type="button" value="No">{% endif %} </td>
								</tr>
								<tr>
								  <th scope="row">January</th>
								  <td>{% if f.januaryFee != 0 %} {{f.januaryFee}} {% endif %}</td>
								  <td>{% if b.transport == True and b.januaryFee != 0 %} {{b.januaryFee}} {% endif %}</td>
								  <td>{% if f.januaryFee != 0 %} {{ f.januaryFee|add:b.januaryFee }} {% endif %}</td>
								  <td>{% if f.januaryFee != 0 %} <input class="btn btn-success btn-sm" type="button" value="Paid">{% else %} <input class="btn btn-danger btn-sm" type="button" value="No">{% endif %} </td>
								</tr>
						  		<tr>
								  <th scope="row">February</th>
								  <td> {% if f.februaryFee != 0 %}{{f.februaryFee}} {% endif %}</td>
								  <td> {% if b.transport == True and b.februaryFee != 0%} {{b.februaryFee}} {% endif %}</td>
								  <td> {% if f.februaryFee != 0 %}{{ f.februaryFee|add:b.februaryFee }} {% endif %}</td>
								  <td>{% if f.februaryFee != 0 %} <input class="btn btn-success btn-sm" type="button" value="Paid">{% else %} <input class="btn btn-danger btn-sm" type="button" value="No">{% endif %} </td>
								</tr>
						  		<tr>
								  <th scope="row">March</th>
								  <td> {% if f.marchFee != 0 %} {{f.marchFee}} {% endif %}</td>
								  <td> {% if b.transport == True and b.marchFee != 0%} {{b.marchFee}} {% endif %}</td>
								  <td> {% if f.marchFee != 0 %} {{ f.marchFee|add:b.marchFee }} {% endif %}</td>
								  <td>{% if f.marchFee != 0 %} <input class="btn btn-success btn-sm" type="button" value="Paid">{% else %} <input class="btn btn-danger btn-sm" type="button" value="No">{% endif %} </td>
								</tr>
						  		<tr>
								  <th scope="row">April</th>
								  <td> {% if f.aprilFee != 0 %}{{f.aprilFee}} {% endif %}</td>
								  <td>{% if b.transport == True and b.aprilFee != 0%} {{b.aprilFee}} {% endif %}</td>
								  <td> {% if f.aprilFee != 0 %}{{ f.aprilFee|add:b.aprilFee }} {% endif %}</td>
								  <td>{% if f.aprilFee != 0 %} <input class="btn btn-success btn-sm" type="button" value="Paid">{% else %} <input class="btn btn-danger btn-sm" type="button" value="No">{% endif %} </td>
								</tr>
						  		<tr>
								  <th scope="row">May</th>
								  <td> {% if f.mayFee != 0 %} {{f.mayFee }} {% endif %}</td>
								  <td>{% if b.transport == True and b.mayFee != 0%} {{b.mayFee }} {% endif %}</td>
								  <td> {% if f.mayFee != 0 %}{{ f.mayFee |add:b.mayFee  }} {% endif %}</td>
								  <td>{% if f.mayFee  != 0 %} <input class="btn btn-success btn-sm" type="button" value="Paid">{% else %} <input class="btn btn-danger btn-sm" type="button" value="No">{% endif %} </td>
								</tr>
						  		<tr>
								  <th scope="row">June</th>
								  <td> {% if f.juneFee != 0 %} {{f.juneFee}} {% endif %}</td>
								  <td>{% if b.transport == True and b.juneFee != 0%} {{b.juneFee}} {% endif %}</td>
								  <td> {% if f.juneFee != 0 %} {{ f.juneFee|add:b.juneFee }} {% endif %}</td>
								  <td>{% if f.juneFee != 0 %} <input class="btn btn-success btn-sm" type="button" value="Paid">{% else %} <input class="btn btn-danger btn-sm" type="button" value="No">{% endif %} </td>
								</tr>
						  		<tr>
								  <th scope="row">July</th>
								  <td> {% if f.julyFee != 0 %} {{f.julyFee}} {% endif %}</td>
								  <td>{% if b.transport == True and b.julyFee != 0%} {{b.julyFee}} {% endif %}</td>
								  <td> {% if f.julyFee != 0 %}{{ f.julyFee|add:b.julyFee }} {% endif %}</td>
								  <td>{% if f.julyFee != 0 %} <input class="btn btn-success btn-sm" type="button" value="Paid">{% else %} <input class="btn btn-danger btn-sm" type="button" value="No">{% endif %} </td>
								</tr>
						  		<tr>
								  <th scope="row">August</th>
								  <td> {% if f.augustFee != 0 %} {{f.augustFee}} {% endif %}</td>
								  <td>{% if b.transport == True and b.augustFee != 0%} {{b.augustFee}} {% endif %}</td>
								  <td> {% if f.augustFee != 0 %} {{ f.augustFee|add:b.augustFee }} {% endif %}</td>
								  <td>{% if f.augustFee != 0 %} <input class="btn btn-success btn-sm" type="button" value="Paid">{% else %} <input class="btn btn-danger btn-sm" type="button" value="No">{% endif %} </td>
								</tr>
						        <tr>
								  <th scope="row">September</th>
								  <td> {% if f.septemberFee != 0 %}{{f.septemberFee}} {% endif %}</td>
								  <td>{% if b.transport == True and b.septemberFee != 0%} {{b.septemberFee}} {% endif %}</td>
								  <td> {% if f.septemberFee != 0 %}{{ f.septemberFee|add:b.septemberFee }} {% endif %}</td>
								  <td>{% if f.septemberFee != 0 %} <input class="btn btn-success btn-sm" type="button" value="Paid">{% else %} <input class="btn btn-danger btn-sm" type="button" value="No">{% endif %} </td>
								</tr>
						        <tr>
								  <th scope="row">October</th>
								  <td> {% if f.octoberFee != 0 %} {{f.octoberFee}} {% endif %}</td>
								  <td>{% if b.transport == True and b.octoberFee != 0%} {{b.octoberFee}} {% endif %}</td>
								  <td> {% if f.octoberFee != 0 %}{{ f.octoberFee|add:b.octoberFee }} {% endif %}</td>
								  <td>{% if f.octoberFee != 0 %} <input class="btn btn-success btn-sm" type="button" value="Paid">{% else %} <input class="btn btn-danger btn-sm" type="button" value="No">{% endif %} </td>
								</tr>
						  		<tr>
								  <th scope="row">November</th>
								  <td> {% if f.novemberFee != 0 %} {{f.novemberFee}}{% endif %}</td>
								  <td>{% if b.transport == True and b.novemberFee != 0%} {{b.novemberFee}} {% endif %}</td>
								  <td> {% if f.novemberFee != 0 %} {{ f.novemberFee|add:b.novemberFee }}{% endif %}</td>
								  <td>{% if f.novemberFee != 0 %} <input class="btn btn-success btn-sm" type="button" value="Paid">{% else %} <input class="btn btn-danger btn-sm" type="button" value="No">{% endif %} </td>
								</tr>
						        <tr>
								  <th scope="row">December</th>
								  <td> {% if f.decemberFee != 0 %} {{f.decemberFee}}{% endif %}</td>
								  <td>{% if b.transport == True and b.decemberFee != 0%} {{b.decemberFee}} {% endif %}</td>
								  <td> {% if f.decemberFee != 0 %} {{ f.decemberFee|add:b.decemberFee }}{% endif %}</td>
								  <td>{% if f.decemberFee != 0 %} <input class="btn btn-success btn-sm" type="button" value="Paid">{% else %} <input class="btn btn-danger btn-sm" type="button" value="No">{% endif %} </td>
								</tr>
						  </tbody>
						</table>
						 <div class="row">
							  <div class="col"><a class="btn btn-info btn-lg btn-block" href="/feePayForm/?admissionNumber={{s.admissionNumber}}" role="button">Fee Pay</a></div>
							  <div class="col"> <a class="btn btn-success btn-lg btn-block" href="{% url 'allRecords' %}" role="button">Cancel</a></div>
						  </div>
                </div>
			</div>
         </div>


		<div class="col-lg-8">
           <div class="card">
			  <form action="/update/" method="POST" enctype="multipart/form-data">
				      {% csrf_token%}
				   <div class="d-flex flex-column align-items-center text-center">
							<div class="mt-2"></div>
							{% if s.image %}<img src="{{ s.image.url }}" class="rounded-circle" style="width: 120px; height: 120px;">{% else %}<img src="/static/image/profile.jpg" class="rounded-circle" style="width: 120px; height: 120px;">{% endif %}
							<input type="file" name="image" accept="image/*" >
							<div class="mt-2"> <h4>{{s.studentName}}</h4></div>
							<div class="mt-2">{{em}}</div>
				   </div>

                 <div class="card-body p-6">
					 <div class="row mb-5" >
						 <div class="col-sm-3"><h6 class="mb-0">Admission Number :- </h6></div>
						 <div class="col-sm-3 text-secondary"><input type="text" class="form-control" name="admissionNumber" value="{{s.admissionNumber}}" readonly></div>
						  <div class="col-sm-3"><h6 class="mb-0">Admission Date :- </h6></div>
						 <div class="col-sm-3 text-secondary"><input type="text" class="form-control" name="currentDateTime" value="{{s.currentDateTime|date:'d-M-y'}}" disabled></div>
					 </div>

					 <div class="row mb-4">
						 <div class="col-sm-3"><h6 class="mb-0">Student Name :- </h6></div>
						 <div class="col-sm-3 text-secondary"><input type="text" class="form-control" name="studentName"  value="{{s.studentName}}"></div>
						  <div class="col-sm-3"><h6 class="mb-0" >Student Class :- </h6></div>
						 <div class="col-sm-3 text-secondary">
							   <select class="form-select"  name="studentClass" id="studentClass" >
								   <option value="Nursery"    {% if s.studentClass == 'Nursery'   %} selected {% endif %} > Nursery     </option>
								   <option value="L.K.G"      {% if s.studentClass == 'L.K.G'     %} selected {% endif %} > L.K.G       </option>
								   <option value="U.K.G"      {% if s.studentClass == 'U.K.G'     %} selected {% endif %} > U.K.G       </option>
								   <option value="Class I"    {% if s.studentClass == 'Class I'   %} selected {% endif %} > Class I     </option>
								   <option value="Class II"   {% if s.studentClass == 'Class II'  %} selected {% endif %} > Class II    </option>
								   <option value="Class III"  {% if s.studentClass == 'Class III' %} selected {% endif %} > Class III   </option>
								   <option value="Class IV"   {% if s.studentClass == 'Class IV'  %} selected {% endif %} > Class IV    </option>
								   <option value="Class V"    {% if s.studentClass == 'Class V'   %} selected {% endif %} > Class V     </option>
								   <option value="Class VI"   {% if s.studentClass == 'Class VI'  %} selected {% endif %} > Class VII   </option>
								   <option value="Class VII"  {% if s.studentClass == 'Class VII' %} selected {% endif %} > Class VII   </option>
								   <option value="Class VIII" {% if s.studentClass == 'Class VIII'%} selected {% endif %} > Class VIII  </option>
							   </select>
						 </div>
					 </div>

					 <div class="row mb-4">
						 <div class="col-sm-3"><h6 class="mb-0">Date of Birth :- </h6></div>
						 <div class="col-sm-3 text-secondary"><input type="text" class="form-control" name="studentDOB" value="{{s.studentDOB|date:'d-m-Y'}}" id="datepicker" ></div>
						 <div class="col-sm-3"><h6 class="mb-0">Aadhar Number :- </h6></div>
						 <div class="col-sm-3 text-secondary"><input type="text" class="form-control" name="aadharNumber" value="{{s.aadharNumber}}"></div>
					 </div>

					 <div class="row mb-4">
						 <div class="col-sm-3"><h6 class="mb-0">Father's Name :- </h6></div>
						 <div class="col-sm-3 text-secondary"><input type="text" class="form-control" name="fatherName" value="{{s.fatherName}}"></div>
						  <div class="col-sm-3"><h6 class="mb-0">Mother,s Name :- </h6></div>
						 <div class="col-sm-3 text-secondary"><input type="text" class="form-control" name="motherName" value="{{s.motherName}}"></div>
					 </div>

					 <div class="row mb-4">
						 <div class="col-sm-3"><h6 class="mb-0">Mobile Number :- </h6></div>
						 <div class="col-sm-3 text-secondary"><input type="text" class="form-control" name="mobileNumber" value="{{s.mobileNumber}}"></div>
						 <div class="col-sm-3"><h6 class="mb-0">Student Address :- </h6></div>
						 <div class="col-sm-3 text-secondary"><input type="text" class="form-control" name="studentAddress" value="{{s.studentAddress}}"></div>
					 </div>

					 <div class="row mb-5">
						 <div class="col-sm-3"><h6 class="mb-0">Previous School :- </h6></div>
						 <div class="col-sm-3 text-secondary"><input type="text" class="form-control" name="previousSchool" value="{{s.previousSchool}}"></div>
						  <div class="col-sm-3"><h6 class="mb-0">Previous Class :- </h6></div>
						 <div class="col-sm-3 text-secondary"><input type="text" class="form-control" name="previousClass" value="{{s.previousClass}}"></div>
					 </div>

					  <div class="row mb-5">
						 <div class="col mx-5 px-5"><input type="submit" class="btn btn-primary btn-lg btn-block" value="Update"></div>
						 <div class="col mx-5"><a class="btn btn-success btn-lg btn-block" href="/display/?admissionNumber={{s.admissionNumber}}" role="button">Cancel</a></div>
					 </div>
			  	 </div>
			  </form>
           </div>
       </div>

   </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap-datepicker@1.9.0/dist/js/bootstrap-datepicker.min.js"></script>

<style>
    .datepicker {
      font-size: 19px;
      width: 300px;
    }

    .datepicker table {
      font-size: 19px;
      width: 300px;
    }

    .datepicker-days table td {
      padding: 11px;
      width: 300px;
    }

    .datepicker-days .month {
      font-size: 19px;
      width: 300px;
</style>

<script>
    $(document).ready(function () {
      $('#datepicker').datepicker({
        format: 'dd-mm-yyyy',
        autoclose: true
      });
    });
</script>


{% endblock %}